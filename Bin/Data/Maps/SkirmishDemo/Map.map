type = GameMap
uin = 2
classPrompt = GameMap
gameMusic = "Sounds\\Music\\Game.ogg"
windDirection = 0
windSpeed = 1
resetYCoordinateForDynamicBodies = False
destroyObjectsBelowHeight = -500
ambientLight = 0.5882353 0.5882353 0.5882353
editorCameraPosition = 15.74143 -19.72223 3.998481
editorCameraDirection = 2.008459 -0.4903592
shadowColor = 1 1 1
shadowFarDistance = 40
shadowPSSMSplitFactors = 0.2 0.5
logicSystemManager = 4
staticBatchingRenderingEnabled = False
staticBatchingPhysicsEnabledInMapEditor = False
staticBatchingPhysicsEnabledInSimulation = False
staticBatchingGridCellSize = 30 30 30
staticBatchingFilterByMaxTriangleCount = 512
name = GameMap_0
shadowTechnique = ShadowmapMedium
sceneGraphSettings
{
	amountOfObjectsOutsideOctreeBoundsToRebuld = 30
	octreeBoundsRebuildExpand = 50 50 50
	minNodeSize = 10 10 10
	objectCountThresholdToCreateChildNodes = 10
	maxNodeCount = 300000
}
dataForEditor
{
}
tags
{
}
rootEditorLayer
{
	name = Root Layer
	layer
	{
		name = StaticGeometry
	}
	layer
	{
		name = Corridors
		allowSelect = False
	}
}
entity
{
	type = Terminal
	uin = 3
	classPrompt = Terminal
	subscriptionsToDeletionEvent = 6
	initialControl = "Gui\\SkirmishDemoTerminal.gui"
	healthFactorAtBeginning = 1
	position = 18.36116 -11.70012 1.995219
	rotation = 0 0 -0.7061533 0.708059
	name = Terminal_0
	logicClass = 6
	tags
	{
	}
}
entity
{
	type = LogicSystemManager
	uin = 4
	referencesToCompileDLL = "System.dll\r\nSystem.Drawing.dll\r\n\r\nEngineApp.dll\r\nUISystem.dll\r\nFileSystem.dll\r\nLog.dll\r\nMathEx.dll\r\nRenderer.dll\r\nPhysicsSystem.dll\r\nSoundSystem.dll\r\nEntitySystem.dll\r\nMapSystem.dll\r\nUtils.dll\r\nHeightmapTerrain.dll\r\nDecorativeObjectManager.dll\r\n\r\nProjectCommon.dll\r\nProjectEntities.dll"
	usingNamespacesToCodeGeneration = "using System;\r\nusing System.Collections.Generic;\r\nusing System.Text;\r\n\r\nusing Engine;\r\nusing Engine.FileSystem;\r\nusing Engine.MathEx;\r\nusing Engine.Utils;\r\nusing Engine.Renderer;\r\nusing Engine.PhysicsSystem;\r\nusing Engine.SoundSystem;\r\nusing Engine.UISystem;\r\nusing Engine.EntitySystem;\r\nusing Engine.MapSystem;\r\n\r\nusing ProjectCommon;\r\nusing ProjectEntities;"
	mapClassManager = 5
	tags
	{
	}
	entity
	{
		type = LogicClassManager
		uin = 5
		tags
		{
		}
		entity
		{
			type = LogicEntityClass
			uin = 6
			subscriptionsToDeletionEvent = 3
			entityClassName = GameGuiObject
			className = Terminal_0
			customScriptCodeCreated = True
			customScriptCode = "//!!!!!!!!temp variables\r\nList<Unit> ourUnits = new List<Unit>();\r\nList<Unit> selectedUnits = new List<Unit>();\r\n//!!!!!!!!temp variables\r\n\r\n//!!!!!!temp in custom script code (out parameters)\r\nUnit GetUnitByCursor()\r\n{\r\n\tUnit retUnit = null;\r\n\tRay ray = camera.GetCameraToViewportRay( cameraClientControl.MousePosition );\r\n\tMap.Instance.GetObjects( ray, delegate( MapObject obj, float scale )\r\n\t{\r\n\t\tUnit u = obj as Unit;\r\n\t\tif( u != null && camerasComboBox.SelectedItem != u )\r\n\t\t{\r\n\t\t\tretUnit = u;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t} );\r\n\treturn retUnit;\r\n}\r\n\r\n//!!!!!!temp in custom script code (out parameters)\r\nbool GetCollisionPositionByCursor(out Vec3 position)\r\n{\r\n\tposition = Vec3.Zero;\r\n\tRay ray = camera.GetCameraToViewportRay( cameraClientControl.MousePosition );\r\n\tRayCastResult result = PhysicsWorld.Instance.RayCast(ray, (int)ContactGroup.CastOnlyCollision);\r\n\tif(result.Shape == null)\r\n\t\treturn false;\r\n\tposition = result.Position;\r\n\treturn true;\r\n}\r\n\r\n//!!!!!!temp in custom script code (MouseButtons)\r\nvoid clientControl_MouseDown( object sender, EMouseButtons button )\r\n{\r\n\tif( camera == null )\r\n\t\treturn;\r\n\r\n\t//Select unit\r\n\tif( button == EMouseButtons.Left )\r\n\t{\r\n\t\tselectionRectangle = true;\r\n\t\tselectionRectangleStart = cameraClientControl.MousePosition;\r\n\t}\r\n\r\n\t//Set selected units tasks\r\n\tif( button == EMouseButtons.Right && selectedUnits.Count != 0 )\r\n\t{\r\n\t\tUnit destinationUnit = GetUnitByCursor();\r\n\t\tVec3 collisionPosition;\r\n\t\tbool collisionFound = GetCollisionPositionByCursor(out collisionPosition);\r\n\r\n\t\tif(destinationUnit != null && collisionFound)\r\n\t\t{\r\n\t\t\tif((collisionPosition - camera.Position).Length() < \r\n\t\t\t\t(destinationUnit.Position - camera.Position).Length())\r\n\t\t\t{\r\n\t\t\t\tdestinationUnit = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(destinationUnit != null || collisionFound)\r\n\t\t{\r\n\t\t\tforeach( Unit unit in selectedUnits )\r\n\t\t\t{\r\n\t\t\t\tGameCharacterAI intellect = (GameCharacterAI)unit.Intellect;\r\n\t\t\t\t\r\n\t\t\t\tintellect.AutomaticTasks = GameCharacterAI.AutomaticTasksEnum.EnabledOnlyWhenNoTasks;\r\n\t\t\t\t\r\n\t\t\t\tif( destinationUnit != null )\r\n\t\t\t\t{\r\n\t\t\t\t\tif( destinationUnit.Intellect.Faction != PlayerIntellect.Instance.Faction )\r\n\t\t\t\t\t\tintellect.DoTask( new GameCharacterAI.AttackTask( intellect, destinationUnit ), false );\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tintellect.DoTask( new GameCharacterAI.MoveTask( intellect, destinationUnit, 1 ), false );\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tintellect.DoTask( new GameCharacterAI.MoveTask( intellect, collisionPosition, 1 ), false );\r\n\t\t\t\t\t//intellect.ForceTaskMove = new GameCharacterAI.TaskMoveValue( collisionPosition );\r\n\r\n//\t\t\t\tif( destinationUnit != null && destinationUnit.Intellect.Faction != PlayerIntellect.Instance.Faction )\r\n//\t\t\t\t{\r\n//\t\t\t\t\tintellect.ForceTaskAttack = destinationUnit;\r\n//\t\t\t\t\tintellect.ForceTaskMove = new GameCharacterAI.TaskMoveValue( null );\r\n//\t\t\t\t}\r\n//\t\t\t\telse\r\n//\t\t\t\t\tintellect.ForceTaskAttack = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSound sound = SoundWorld.Instance.SoundCreate( \"Sounds/Beep.ogg\", 0 );\r\n\t\tif(sound != null)\r\n\t\t\tSoundWorld.Instance.SoundPlay( sound, EngineApp.Instance.DefaultSoundChannelGroup, 1 );\r\n\t\r\n\t}\r\n}\r\n\r\n//!!!!!!temp in custom script code (MouseButtons)\r\nvoid clientControl_MouseUp( object sender, EMouseButtons button )\r\n{\r\n\tif( camera == null )\r\n\t\treturn;\r\n\r\n\tif( selectionRectangle && button == EMouseButtons.Left )\r\n\t{\r\n\t\tselectionRectangle = false;\r\n\r\n\t\t//Do selection\r\n\r\n\t\tif( !EngineApp.Instance.IsKeyPressed( EKeys.Shift ) )\r\n\t\t\tClearSelectedUnits();\r\n\r\n\t\tRect rect = new Rect( selectionRectangleStart );\r\n\t\trect.Add( cameraClientControl.MousePosition );\r\n\r\n\t\tif( Math.Abs( rect.Size.X ) > .005f || Math.Abs( rect.Size.Y ) > .005f )\r\n\t\t{\r\n\t\t\t//Select by rectangle\r\n\r\n\t\t\tMap.Instance.GetObjectsByScreenRectangle( camera, rect, delegate( MapObject obj )\r\n\t\t\t\t{\r\n\t\t\t\t\tUnit unit = obj as Unit;\r\n\t\t\t\t\tif( unit == null )\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tif( !ourUnits.Contains( unit ) )\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tSetSelectUnit( unit, true );\r\n\t\t\t\t} );\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//Select by point\r\n\r\n\t\t\tUnit unit = GetUnitByCursor();\r\n\t\t\tif( unit != null && ourUnits.Contains( unit ) )\r\n\t\t\t\tSetSelectUnit( unit, true );\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n"
			tags
			{
			}
			entity
			{
				type = LogicScriptMethod
				uin = 7
				code = "( (Button)Owner.MainControl.Controls[ \"OurUnitsZombie\" ] ).Click += ourUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"OurUnitsBug\" ] ).Click += ourUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"OurUnitsRobot\" ] ).Click += ourUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"OurUnitsTurret\" ] ).Click += ourUnits_Click;\r\n\r\n( (Button)Owner.MainControl.Controls[ \"EnemyUnitsZombie\" ] ).Click += enemyUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"EnemyUnitsBug\" ] ).Click += enemyUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"EnemyUnitsRobot\" ] ).Click += enemyUnits_Click;\r\n( (Button)Owner.MainControl.Controls[ \"EnemyUnitsTurret\" ] ).Click += enemyUnits_Click;\r\n\r\n( (Button)Owner.MainControl.Controls[ \"Clear\" ] ).Click += clear_Click;\r\n\r\ncamerasComboBox = ( (ComboBox)Owner.MainControl.Controls[ \"Cameras\" ] );\r\nUpdateCamerasComboBox();\r\n\r\ncameraTextureSizeComboBox = ( (ComboBox)Owner.MainControl.Controls[ \"CameraTextureSize\" ] );\r\ncameraTextureSizeComboBox.SelectedIndexChange += cameraTextureSizeComboBox_SelectedIndexChange;\r\n\r\ncameraClientControl = Owner.MainControl.Controls[ \"Camera\" ].Controls[ \"ClientControl\" ];\r\ncameraClientControl.MouseDown += clientControl_MouseDown;\r\ncameraClientControl.MouseUp += clientControl_MouseUp;\r\ncameraClientControl.RenderUI += clientControl_RenderUI;\r\n\r\ncameraTextureSizeComboBox.Items.Add( \"Off\" );\r\ncameraTextureSizeComboBox.Items.Add( \"256x256\" );\r\ncameraTextureSizeComboBox.Items.Add( \"512x512\" );\r\ncameraTextureSizeComboBox.Items.Add( \"1024x1024\" );\r\n\r\nif( EngineApp.Instance.VideoMode.X >= 1024 )\r\n\tcameraTextureSizeComboBox.SelectedIndex = 3;\r\nelse\r\n\tcameraTextureSizeComboBox.SelectedIndex = 2;\r\n\r\n( (Button)Owner.MainControl.Controls[ \"Die\" ] ).Click += die_Click;\r\n\r\nOwner.SubscribeToTickEvent();\r\n"
				methodName = PostCreated
				returnType = System.Void
				parameters = 8
				isEntityEventMethod = True
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 8
					parameterType = System.Boolean
					parameterName = loaded
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 9
				code = "DestroyCamera();\r\n"
				methodName = Destroying
				returnType = System.Void
				parameters = 
				isEntityEventMethod = True
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 10
				code = "DestroyCamera();\r\n\r\nif( cameraTextureSizeComboBox.SelectedIndex != 0 )\r\n{\r\n\tint textureSize = 256 * (int)Math.Pow( 2, cameraTextureSizeComboBox.SelectedIndex - 1 );\r\n\r\n\tcameraTexture = TextureManager.Instance.Create(\r\n\t\tTextureManager.Instance.GetUniqueName( \"SkirmishDemoCameraTestTexture\" ), Texture.Type.Type2D,\r\n\t\tnew Vec2I( textureSize, textureSize ), 1, 0, PixelFormat.R8G8B8, Texture.Usage.RenderTarget );\r\n\r\n\trenderTexture = cameraTexture.GetBuffer().GetRenderTarget();\r\n\r\n\tstring cameraName = SceneManager.Instance.GetUniqueCameraName(\"SkirmishDemo\");\r\n\tcamera = SceneManager.Instance.CreateCamera( cameraName );\r\n\tcamera.Purpose = Camera.Purposes.Special;\r\n\tcamera.NearClipDistance = .1f;\r\n\tcamera.FarClipDistance = 1000.0f;\r\n\tcamera.AspectRatio = 1.333f;\r\n\r\n\tviewport = renderTexture.AddViewport( camera );\r\n\tviewport.ShadowsEnabled = false;\r\n\r\n\t//Create compositor for HDR render technique\r\n\tif( RendererWorld.Instance.DefaultViewport.GetCompositorInstance( \"HDR\" ) != null )\r\n\t{\r\n\t\t//viewport.AddCompositor( \"HDR\", 0 );\r\n\t\t//viewport.SetCompositorEnabled( \"HDR\", true );\r\n\t}\r\n\r\n\tcameraClientControl.BackTexture = cameraTexture;\r\n}"
				methodName = CreateCamera
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 11
				code = "cameraClientControl.BackTexture = null;\r\n\r\nif( cameraTexture != null )\r\n{\r\n\t//renderTexture.RemoveViewport(viewport);\r\n\tviewport.Dispose();\r\n\tviewport = null;\r\n\r\n\tcamera.Dispose();\r\n\tcamera = null;\r\n\r\n\t//renderTexture.Dispose();\r\n\trenderTexture = null;\r\n\r\n\tcameraTexture.Dispose();\r\n\tcameraTexture = null;\r\n}\r\n"
				methodName = DestroyCamera
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 12
				code = "foreach( Entity entity in Map.Instance.Children )\r\n{\r\n\tstring str = entity.UserData as string;\r\n\tif( str != null && str == \"AllowClear\" )\r\n\t{\r\n\t\tentity.SetForDeletion( false );\r\n\t\tcontinue;\r\n\t}\r\n\r\n\tif( ( entity as Corpse ) != null )\r\n\t\tentity.SetForDeletion( false );\r\n}"
				methodName = clear_Click
				returnType = System.Void
				parameters = 13
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 13
					parameterType = Engine.UISystem.Button
					parameterName = sender
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 14
				code = "string typeName = sender.Text;\r\n\r\nint startPos = -10;\r\nint step = 5;\r\nif(typeName == \"Robot\")\r\n{\r\n\tstep = 13;\r\n}\r\nelse if(typeName == \"Turret\")\r\n{\r\n\tstartPos = 0;\r\n\tstep = 20;\r\n}\r\n\t\r\nEntityType type = EntityTypes.Instance.GetByName( typeName );\r\nfor( float y = startPos; y <= 11; y += step )\r\n{\r\n\tbool positionFound = false;\r\n\tVec3 position = Vec3.Zero;\r\n\r\n\t//create unit at free place\r\n\tfor( float x = 10; x < 20; x++ )\r\n\t{\r\n\t\tVec3 pos = new Vec3( x, y, 1.7f );\r\n\t\tBounds bounds = new Bounds(pos - new Vec3(1.5f,1.5f,5), pos + new Vec3(1.5f,1.5f,5));\r\n\t\tbool free = true;\r\n\t\tMap.Instance.GetObjects( bounds, delegate( MapObject o )\r\n\t\t{\r\n\t\t\tif( o.PhysicsModel != null )\r\n\t\t\t\tfree = false;\r\n\t\t} );\r\n\r\n\t\tif( free )\r\n\t\t{\r\n\t\t\tpositionFound = true;\r\n\t\t\tposition = pos;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif(positionFound)\r\n\t{\r\n\t\tUnit obj = (Unit)Entities.Instance.Create( type, Map.Instance );\r\n\t\tobj.UserData = \"AllowClear\";\r\n\t\tobj.Position = position;\r\n\r\n\t\tif(obj is Character)\r\n\t\t{\r\n\t\t\t//better to use Rotation for set rotation of character (not realized)\r\n\t\t\t((Character)obj).SetTurnToPosition( obj.Position + new Vec3( -10, 0, 0 ) );\r\n\t\t}\r\n\t\telse\r\n\t\t\tobj.Rotation = new Angles(0,0,180).ToQuat();\r\n\r\n\t\tobj.PostCreate();\r\n\r\n\t\tGameCharacterAI intellect = (GameCharacterAI)obj.Intellect;\r\n\t\tif( intellect != null )\r\n\t\t\tintellect.Faction = PlayerIntellect.Instance.Faction;\r\n\r\n\t\tourUnits.Add( obj );\r\n\t\tOwner.SubscribeToDeletionEvent( obj );\r\n\t}\r\n}\r\n\r\nUpdateCamerasComboBox();\r\n"
				methodName = ourUnits_Click
				returnType = System.Void
				parameters = 15
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 15
					parameterType = Engine.UISystem.Button
					parameterName = sender
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 16
				code = "string typeName = sender.Text;\r\n\r\nint startPos = -10;\r\nint step = 5;\r\nif(typeName == \"Robot\")\r\n{\r\n\tstep = 13;\r\n}\r\nelse if(typeName == \"Turret\")\r\n{\r\n\tstartPos = 0;\r\n\tstep = 20;\r\n}\r\n\r\nEntityType type = EntityTypes.Instance.GetByName( typeName );\r\nfor( float y = startPos; y <= 11; y += step )\r\n{\r\n\tbool positionFound = false;\r\n\tVec3 position = Vec3.Zero;\r\n\r\n\t//create unit at free place\r\n\tfor( float x = -10; x >= -20; x-- )\r\n\t{\r\n\t\tVec3 pos = new Vec3( x, y, 1.7f );\r\n\t\tBounds bounds = new Bounds(pos - new Vec3(1.5f,1.5f,5), pos + new Vec3(1.5f,1.5f,5));\r\n\t\tbool free = true;\r\n\t\tMap.Instance.GetObjects( bounds, delegate( MapObject o )\r\n\t\t{\r\n\t\t\tif( o.PhysicsModel != null )\r\n\t\t\t\tfree = false;\r\n\t\t} );\r\n\r\n\t\tif( free )\r\n\t\t{\r\n\t\t\tpositionFound = true;\r\n\t\t\tposition = pos;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif(positionFound)\r\n\t{\r\n\t\tUnit obj = (Unit)Entities.Instance.Create( type, Map.Instance );\r\n\t\tobj.UserData = \"AllowClear\";\r\n\t\tobj.Position = position;\r\n\t\tobj.PostCreate();\r\n\t}\r\n\r\n}\r\n"
				methodName = enemyUnits_Click
				returnType = System.Void
				parameters = 17
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 17
					parameterType = Engine.UISystem.Button
					parameterName = sender
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 18
				code = "object lastSelectedItem = camerasComboBox.SelectedItem;\r\n\r\ncamerasComboBox.Items.Clear();\r\n\r\ncamerasComboBox.Items.Add( \"Side\" );\r\ncamerasComboBox.Items.Add( \"Perspective\" );\r\n//camerasComboBox.Items.Add( \"Up\" );\r\n\r\nforeach( Unit unit in ourUnits )\r\n\tcamerasComboBox.Items.Add( unit );\r\n\r\ncamerasComboBox.SelectedItem = lastSelectedItem;\r\nif( camerasComboBox.SelectedIndex == -1 )\r\n\tcamerasComboBox.SelectedIndex = 0;\r\n"
				methodName = UpdateCamerasComboBox
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 19
				code = "CreateCamera();"
				methodName = cameraTextureSizeComboBox_SelectedIndexChange
				returnType = System.Void
				parameters = 20
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 20
					parameterType = Engine.UISystem.ComboBox
					parameterName = sender
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 21
				code = "foreach( Unit unit in selectedUnits )\r\n\tunit.Die();\r\n"
				methodName = die_Click
				returnType = System.Void
				parameters = 22
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 22
					parameterType = Engine.UISystem.Button
					parameterName = sender
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 23
				code = "string text = ( selectedUnits.Count != 0 ) ? selectedUnits.Count.ToString() : \"(None)\";\r\nOwner.MainControl.Controls[ \"SelectedUnits\" ].Text = text;\r\nOwner.MainControl.Controls[ \"Die\" ].Enable = selectedUnits.Count != 0;\r\n"
				methodName = UpdateUnitsInfoControls
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 24
				code = "if( select )\r\n{\r\n\tOwner.SubscribeToDeletionEvent( unit );\r\n\r\n\tGameCharacterAI intellect = (GameCharacterAI)unit.Intellect;\r\n\tif( intellect != null )\r\n\t{\r\n\t\t//if( intellect.ForceTaskMove.Dynamic == null )\r\n\t\t//\tintellect.ForceTaskMove = new GameCharacterAI.TaskMoveValue( null );\r\n\t\t//!!!!!!!\r\n\t\t//intellect.ForceTaskAttack = null;\r\n\t}\r\n\r\n\tselectedUnits.Add( unit );\r\n}\r\nelse\r\n{\r\n\tselectedUnits.Remove( unit );\r\n\r\n\tOwner.UnsubscribeToDeletionEvent( unit );\r\n\r\n\tGameCharacterAI intellect = (GameCharacterAI)unit.Intellect;\r\n\tif( intellect != null )\r\n\t{\r\n\t\t//if( intellect.ForceTaskMove.Dynamic == null )\r\n\t\t//\tintellect.ForceTaskMove = new GameCharacterAI.TaskMoveValue( null );\r\n\t\t//intellect.ForceTaskAttack = null;\r\n\t}\r\n}\r\n\r\nUpdateUnitsInfoControls();\r\n"
				methodName = SetSelectUnit
				returnType = System.Void
				parameters = 25 26
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 25
					parameterType = ProjectEntities.Unit
					parameterName = unit
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 26
					parameterType = System.Boolean
					parameterName = select
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 27
				code = "while( selectedUnits.Count != 0 )\r\n\tSetSelectUnit( selectedUnits[ selectedUnits.Count - 1 ], false );\r\n"
				methodName = ClearSelectedUnits
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 28
				variableType = Engine.UISystem.ComboBox
				variableName = camerasComboBox
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 29
				variableType = Engine.UISystem.ComboBox
				variableName = cameraTextureSizeComboBox
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 30
				variableType = Engine.UISystem.Control
				variableName = cameraClientControl
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 31
				variableType = System.Boolean
				variableName = selectionRectangle
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 32
				variableType = Engine.MathEx.Vec2
				variableName = selectionRectangleStart
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 33
				variableType = Engine.Renderer.Texture
				variableName = cameraTexture
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 34
				variableType = Engine.Renderer.Camera
				variableName = camera
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicVariable
				uin = 35
				variableType = Engine.Renderer.RenderTexture
				variableName = renderTexture
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 36
				code = "Vec2 start = rectangle.LeftTop;\r\nVec2 end = rectangle.RightBottom;\r\n\r\nVec2 size = new Vec2( .0015f, .0015f * 1.333f );\r\n\r\nrenderer.PushClipRectangle( clipRectangle );\r\nrenderer.AddQuad( new Rect( start, new Vec2( start.X + size.X, end.Y ) ), color );\r\nrenderer.AddQuad( new Rect( start, new Vec2( end.X, start.Y + size.Y ) ), color );\r\nrenderer.AddQuad( new Rect( new Vec2( end.X - size.X, start.Y ), end ), color );\r\nrenderer.AddQuad( new Rect( new Vec2( start.X, end.Y - size.Y ), end ), color );\r\nrenderer.PopClipRectangle();\r\n"
				methodName = RenderRectangleBorder
				returnType = System.Void
				parameters = 37 38 39 40
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 37
					parameterType = Engine.Renderer.GuiRenderer
					parameterName = renderer
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 38
					parameterType = Engine.MathEx.Rect
					parameterName = rectangle
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 39
					parameterType = Engine.MathEx.ColorValue
					parameterName = color
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 40
					parameterType = Engine.MathEx.Rect
					parameterName = clipRectangle
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 41
				code = "Vec3[] points = new Vec3[ 8 ];\r\n\r\nBounds bounds = new Bounds( unit.GetInterpolatedPosition() );\r\nbounds.Expand( .7f );\r\nbounds.ToPoints( ref points );\r\n\r\nRect rectangle = Rect.Cleared;\r\n\r\nfor( int n = 0; n < 8; n++ )\r\n{\r\n\tVec2 s;\r\n\tif(!camera.ProjectToScreenCoordinates( points[ n ], out s ))\r\n\t{\r\n\t\trectangle = Rect.Cleared;\r\n\t\tbreak;\r\n\t}\r\n\trectangle.Add( s );\r\n}\r\n\r\nif( !rectangle.IsCleared() )\r\n{\r\n\tRenderRectangleBorder( renderer, cameraClientControl.LocalToScreen( rectangle ), color, \r\n\t\tclipRectangle );\r\n}\r\n"
				methodName = RenderUnitBorder
				returnType = System.Void
				parameters = 42 43 44 45
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 42
					parameterType = Engine.Renderer.GuiRenderer
					parameterName = renderer
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 43
					parameterType = ProjectEntities.Unit
					parameterName = unit
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 44
					parameterType = Engine.MathEx.ColorValue
					parameterName = color
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 45
					parameterType = Engine.MathEx.Rect
					parameterName = clipRectangle
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 46
				code = "if( camera == null )\r\n\treturn;\r\n\r\nRect clipRectangle = sender.GetScreenRectangle();\r\n\r\n//Cursor on unit\r\n{\r\n\tUnit unit = GetUnitByCursor();\r\n\tif( unit != null )\r\n\t\tRenderUnitBorder( renderer, unit, new ColorValue( .7f, .7f, .7f, .7f ), clipRectangle );\r\n}\r\n\r\n//Selected Units\r\nforeach( Unit unit in selectedUnits )\r\n{\r\n\t//Render select border\r\n\tRenderUnitBorder( renderer, unit, new ColorValue( 0, 1, 0 ), clipRectangle );\r\n\r\n\t//Draw tasks\r\n\tGameCharacterAI intellect = (GameCharacterAI)unit.Intellect;\r\n\tif( intellect != null )\r\n\t{\r\n\t\t//if( intellect.TaskMove.IsInitialized || intellect.TaskAttack != null )\r\n\t\tif(intellect.CurrentTask is GameCharacterAI.MoveTask || \r\n\t\t\tintellect.CurrentTask is GameCharacterAI.AttackTask)\r\n\t\t{\r\n\t\t\tVec3 position;\r\n\t\t\tColorValue color;\r\n\r\n\t\t\tif( intellect.CurrentTask is GameCharacterAI.AttackTask )\r\n\t\t\t{\r\n\t\t\t\tposition = intellect.CurrentTask.TaskEntity.GetInterpolatedPosition();\r\n\t\t\t\tcolor = new ColorValue( 1, 0, 0 );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif( intellect.CurrentTask.TaskEntity != null )\r\n\t\t\t\t\tposition = intellect.CurrentTask.TaskEntity.GetInterpolatedPosition();\r\n\t\t\t\telse\r\n\t\t\t\t\tposition = intellect.CurrentTask.TaskPosition;\r\n\t\t\t\tcolor = new ColorValue( 0, 1, 0 );\r\n\t\t\t}\r\n\r\n\t\t\tVec2 screenPos;\r\n\t\t\tif(camera.ProjectToScreenCoordinates( position, out screenPos))\r\n\t\t\t{\r\n\t\t\t\tVec2 p = cameraClientControl.LocalToScreen( screenPos );\r\n\r\n\t\t\t\tVec2 size = new Vec2( .01f, .01f * 1.333f );\r\n\t\t\t\trenderer.PushClipRectangle( clipRectangle );\r\n\t\t\t\trenderer.AddQuad( new Rect( p - size / 2, p + size / 2 ), color );\r\n\t\t\t\trenderer.PopClipRectangle();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//Selection rectangle\r\nif( selectionRectangle )\r\n{\r\n\tRect rectangle = new Rect( selectionRectangleStart );\r\n\trectangle.Add( cameraClientControl.MousePosition );\r\n\trectangle = cameraClientControl.LocalToScreen( rectangle );\r\n\r\n\trenderer.AddQuad( rectangle, new ColorValue( 0, 0, 0, .2f ) );\r\n\tRenderRectangleBorder( renderer, rectangle, new ColorValue( 0, 1, 0 ), clipRectangle );\r\n}"
				methodName = clientControl_RenderUI
				returnType = System.Void
				parameters = 47 48
				isEntityEventMethod = False
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 47
					parameterType = Engine.UISystem.Control
					parameterName = sender
					tags
					{
					}
				}
				entity
				{
					type = LogicParameter
					uin = 48
					parameterType = Engine.Renderer.GuiRenderer
					parameterName = renderer
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 49
				code = "object selectedItem = camerasComboBox.SelectedItem;\r\n\r\n//Check visibility\r\nif(renderTexture != null)\r\n{\r\n\tCamera defaultCamera = RendererWorld.Instance.DefaultCamera;\r\n\r\n\trenderTexture.AutoUpdate = false;\r\n\tIn3dControlManager controlManager = Owner.ControlManager;\r\n\tBox box = new Box( controlManager.Position3D, controlManager.Scale3D * .5f, \r\n\t\tcontrolManager.Rotation3D.ToMat3() );\r\n\tif( defaultCamera.IsIntersectsFast( box.ToBounds() ) )\r\n\t{\r\n\t\t//!!!!!slowly\r\n\t\tVec3[] points = new Vec3[ 8 ];\r\n\t\tbox.ToPoints( ref points );\r\n\t\tPlane plane = Plane.FromPoints( points[ 0 ], points[ 1 ], points[ 2 ] );\r\n\t\tif( plane.GetSide( defaultCamera.Position ) == Plane.Side.Positive )\r\n\t\t\trenderTexture.AutoUpdate = true;\r\n\t}\r\n}\r\n\r\nif( camera != null )\r\n{\r\n\r\n\tif( camerasComboBox.SelectedIndex == 0 )\r\n\t{\r\n\t\tMapCamera mapCameraPositions = (MapCamera)Entities.Instance.GetByName(\"MapCamera_Side\");\r\n\t\tif(mapCameraPositions.Fov != 0)\r\n\t\t\tcamera.Fov = mapCameraPositions.Fov;\r\n\t\tcamera.Position = mapCameraPositions.Position;\r\n\t\tcamera.FixedUp = mapCameraPositions.Rotation * new Vec3(0,0,1);\r\n\t\tcamera.LookAt( mapCameraPositions.Position + mapCameraPositions.Rotation * new Vec3(100,0,0) );\r\n\t}\r\n\telse if( camerasComboBox.SelectedIndex == 1 )\r\n\t{\r\n\t\tMapCamera mapCameraPositions = (MapCamera)Entities.Instance.GetByName(\"MapCamera_Perspective\");\r\n\t\tif(mapCameraPositions.Fov != 0)\r\n\t\t\tcamera.Fov = mapCameraPositions.Fov;\r\n\t\tcamera.Position = mapCameraPositions.Position;\r\n\t\tcamera.FixedUp = /*SetFixedUpAxis*/( mapCameraPositions.Rotation * new Vec3(0,0,1) );\r\n\t\tcamera.LookAt( mapCameraPositions.Position + mapCameraPositions.Rotation * new Vec3(100,0,0) );\r\n\t}\r\n\t//else if( camerasComboBox.SelectedIndex == 2 )\r\n\t//{\r\n\t//\tcamera.Fov = 10;\r\n\t//\tcamera.Position = new Vec3( 0, 0, 190 );\r\n\t//\tcamera.SetFixedUpAxis( Vec3.YAxis );\r\n\t//\tcamera.LookAt( new Vec3( 0, 0, 0 ) );\r\n\t//}\r\n\telse if( camerasComboBox.SelectedIndex != -1 )\r\n\t{\r\n\t\tCharacter unit = selectedItem as Character;\r\n\t\tcamera.Fov = 80;\r\n\t\tcamera.Position = unit.GetInterpolatedPosition() + unit.Type.FPSCameraOffset * unit.Rotation;\r\n\t\tcamera.FixedUp = Vec3.ZAxis;\r\n\t\tcamera.LookAt( camera.Position + unit.Rotation.GetForward() * 100 );\r\n\t}\r\n}\r\n\r\n//updat material scheme\r\nif(viewport != null)\r\n\tviewport.MaterialScheme = RendererWorld.Instance.DefaultViewport.MaterialScheme;\r\n\r\n"
				methodName = UpdateCamera
				returnType = System.Void
				parameters = 
				isEntityEventMethod = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 50
				code = "if(camera == RendererWorld.Instance.DefaultCamera)\r\n\tUpdateCamera();"
				methodName = Render
				returnType = System.Void
				parameters = 51
				isEntityEventMethod = True
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 51
					parameterType = Engine.Renderer.Camera
					parameterName = camera
					tags
					{
					}
				}
			}
			entity
			{
				type = LogicVariable
				uin = 52
				variableType = Engine.Renderer.Viewport
				variableName = viewport
				supportSerialization = False
				tags
				{
				}
			}
			entity
			{
				type = LogicScriptMethod
				uin = 53
				code = "Unit unit = deletedEntity as Unit;\r\nif( unit != null )\r\n{\r\n\tif( selectedUnits.Contains( unit ) )\r\n\t\tSetSelectUnit( unit, false );\r\n\r\n\tif( ourUnits.Remove( unit ) )\r\n\t\tUpdateCamerasComboBox();\r\n}"
				methodName = DeleteSubscribedToDeletionEvent
				returnType = System.Void
				parameters = 54
				isEntityEventMethod = True
				tags
				{
				}
				entity
				{
					type = LogicParameter
					uin = 54
					parameterType = Engine.EntitySystem.Entity
					parameterName = deletedEntity
					tags
					{
					}
				}
			}
		}
	}
}
entity
{
	type = MapCamera
	uin = 55
	classPrompt = MapCamera
	fov = 80
	position = 0 -19 5
	rotation = -0.1830127 0.1830127 0.6830127 0.6830127
	name = MapCamera_Side
	tags
	{
	}
}
entity
{
	type = MapCamera
	uin = 56
	classPrompt = MapCamera
	fov = 80
	position = -13 -13 10
	rotation = -0.06698729 0.25 0.25 0.9330127
	name = MapCamera_Perspective
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 57
	classPrompt = StaticMesh
	position = 0 -12 0
	name = StaticMesh_Floor_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 58
	classPrompt = StaticMesh
	position = 0 12 0
	name = StaticMesh_Floor_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 59
	classPrompt = StaticMesh
	position = 12 0 0
	name = StaticMesh_Floor_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 60
	classPrompt = StaticMesh
	position = -12 0 0
	name = StaticMesh_Floor_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 61
	classPrompt = StaticMesh
	position = 0 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallMiddle_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 62
	classPrompt = StaticMesh
	position = 0 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallUp_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 63
	classPrompt = StaticMesh
	position = -12 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallMiddle_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 64
	classPrompt = StaticMesh
	position = -12 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallUp_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 65
	classPrompt = StaticMesh
	position = 12 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallMiddle_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 66
	classPrompt = StaticMesh
	position = 12 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallUp_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 67
	classPrompt = StaticMesh
	position = 0 -24 0
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallDown_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 68
	classPrompt = StaticMesh
	position = -12 -24 0
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallDown_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 69
	classPrompt = StaticMesh
	position = 12 -24 0
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_WallDown_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 70
	classPrompt = StaticMesh
	position = -24 0 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallMiddle_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 71
	classPrompt = StaticMesh
	position = -24 0 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallUp_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 72
	classPrompt = StaticMesh
	position = -24 12 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallMiddle_4
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 73
	classPrompt = StaticMesh
	position = -24 12 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallUp_4
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 74
	classPrompt = StaticMesh
	position = -24 -12 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallMiddle_5
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 75
	classPrompt = StaticMesh
	position = -24 -12 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallUp_5
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 76
	classPrompt = StaticMesh
	position = -24 0 0
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallDown_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 77
	classPrompt = StaticMesh
	position = -24 12 0
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallDown_4
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 78
	classPrompt = StaticMesh
	position = -24 -12 0
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_WallDown_5
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 79
	classPrompt = StaticMesh
	position = 12 0 6
	name = StaticMesh_Ceiling_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 80
	classPrompt = StaticMesh
	position = 12 12 6
	name = StaticMesh_Ceiling_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 81
	classPrompt = StaticMesh
	position = 12 -12 6
	name = StaticMesh_Ceiling_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 82
	classPrompt = StaticMesh
	position = -12 0 6
	name = StaticMesh_Ceiling_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 83
	classPrompt = StaticMesh
	position = -12 12 6
	name = StaticMesh_Ceiling_4
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 84
	classPrompt = StaticMesh
	position = -12 -12 6
	name = StaticMesh_Ceiling_5
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 85
	classPrompt = StaticMesh
	position = 0 0 6
	name = StaticMesh_Ceiling_6
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 86
	classPrompt = StaticMesh
	position = 0 12 6
	name = StaticMesh_Ceiling_7
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 87
	classPrompt = StaticMesh
	position = 0 -12 6
	name = StaticMesh_Ceiling_8
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Ceiling.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 88
	classPrompt = StaticMesh
	position = -24 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_CornerIntMiddle_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 89
	classPrompt = StaticMesh
	position = -24 -24 6
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_CornerIntUp_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 90
	classPrompt = StaticMesh
	position = -24 -24 0
	rotation = 0 0 -0.7071068 0.7071068
	name = StaticMesh_CornerIntDown_0
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 91
	classPrompt = StaticMesh
	position = -24 24 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_CornerIntMiddle_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 92
	classPrompt = StaticMesh
	position = -24 24 6
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_CornerIntUp_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 93
	classPrompt = StaticMesh
	position = -24 24 0
	rotation = 0 0 -1 8.42937E-08
	name = StaticMesh_CornerIntDown_1
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 94
	classPrompt = StaticMesh
	position = 12 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallMiddle_6
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 95
	classPrompt = StaticMesh
	position = 12 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallUp_6
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 96
	classPrompt = StaticMesh
	position = -12 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallMiddle_7
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 97
	classPrompt = StaticMesh
	position = -12 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallUp_7
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 98
	classPrompt = StaticMesh
	position = 0 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallMiddle_8
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 99
	classPrompt = StaticMesh
	position = 0 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallUp_8
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 100
	classPrompt = StaticMesh
	position = 12 24 0
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallDown_6
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 101
	classPrompt = StaticMesh
	position = -12 24 0
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallDown_7
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 102
	classPrompt = StaticMesh
	position = 0 24 0
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_WallDown_8
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 103
	classPrompt = StaticMesh
	position = 24 -24 0
	name = StaticMesh_CornerIntDown_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 104
	classPrompt = StaticMesh
	position = 24 -24 6
	name = StaticMesh_CornerIntMiddle_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 105
	classPrompt = StaticMesh
	position = 24 -24 6
	name = StaticMesh_CornerIntUp_2
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 106
	classPrompt = StaticMesh
	position = 24 -12 0
	name = StaticMesh_WallDown_9
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 107
	classPrompt = StaticMesh
	position = 24 -12 6
	name = StaticMesh_WallMiddle_9
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 108
	classPrompt = StaticMesh
	position = 24 -12 6
	name = StaticMesh_WallUp_9
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 109
	classPrompt = StaticMesh
	position = 24 12 0
	name = StaticMesh_WallDown_10
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 110
	classPrompt = StaticMesh
	position = 24 12 6
	name = StaticMesh_WallMiddle_10
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 111
	classPrompt = StaticMesh
	position = 24 12 6
	name = StaticMesh_WallUp_10
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 112
	classPrompt = StaticMesh
	position = 24 0 0
	name = StaticMesh_WallDown_11
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 113
	classPrompt = StaticMesh
	position = 24 0 6
	name = StaticMesh_WallMiddle_11
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 114
	classPrompt = StaticMesh
	position = 24 0 6
	name = StaticMesh_WallUp_11
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\WallUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 115
	classPrompt = StaticMesh
	position = 24 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_CornerIntMiddle_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntMiddle.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 116
	classPrompt = StaticMesh
	position = 24 24 6
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_CornerIntUp_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntUp.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 117
	classPrompt = StaticMesh
	position = 24 24 0
	rotation = 0 0 -0.7071069 -0.7071067
	name = StaticMesh_CornerIntDown_3
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\CornerIntDown.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 118
	classPrompt = StaticMesh
	position = -12 12 0
	name = StaticMesh_Floor_4
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 119
	classPrompt = StaticMesh
	position = 12 12 0
	name = StaticMesh_Floor_5
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 120
	classPrompt = StaticMesh
	position = 12 -12 0
	name = StaticMesh_Floor_6
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 121
	classPrompt = StaticMesh
	position = -12 -12 0
	name = StaticMesh_Floor_7
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = StaticMesh
	uin = 122
	classPrompt = StaticMesh
	position = 0 0 0
	name = StaticMesh_Floor_8
	editorLayer = "Root Layer\\Corridors"
	meshName = "Models\\DemoCorridors\\Floor.mesh"
	allowDecals = All
	castDynamicShadows = False
	tags
	{
	}
}
entity
{
	type = Light
	uin = 123
	classPrompt = Light
	enabled = True
	lightType = Directional
	diffuseColor = 0.4117647 0.4117647 0.4117647
	diffusePower = 1
	specularColor = 1.372549 1.372549 1.372549
	specularPower = 1
	attenuationNear = 0
	attenuationFar = 10
	attenuationPower = 2
	ffpAttenuationConstant = 1
	ffpAttenuationLinear = 0
	ffpAttenuationQuadric = 0
	spotlightInnerAngle = 30
	spotlightOuterAngle = 40
	spotlightFalloff = 1
	castShadows = True
	allowStaticLighting = False
	allowDynamicLighting = True
	customShaderParameter = 0 0 0 0
	position = 0 0 22
	rotation = 0 -0.7071068 0 -0.7071068
	name = Light_1
	tags
	{
	}
}
entity
{
	type = Teleporter
	uin = 124
	classPrompt = Teleporter
	active = True
	changeMapName = "Maps\\MainDemo\\Map.map"
	changeMapSpawnObjectName = Teleporter_Maps
	healthFactorAtBeginning = 1
	position = 19.6426 -19.52313 0.5683844
	rotation = 0 0 0.9238796 0.3826835
	name = Teleporter_0
	tags
	{
	}
}
entity
{
	type = SpawnPoint
	uin = 125
	classPrompt = SpawnPoint
	defaultPoint = True
	position = 17.34384 -17.5363 0.3046471
	rotation = 0 0 -0.9238796 -0.3826835
	name = SpawnPoint_0
	tags
	{
	}
}
entity
{
	type = SmallHealthItem
	uin = 126
	classPrompt = HealthItem
	respawnTime = 10
	healthFactorAtBeginning = 1
	position = 20.32927 -15.01019 0.2532427
	rotation = 0 0 0.8124338 -0.5830535
	tags
	{
	}
}
entity
{
	type = SmallHealthItem
	uin = 127
	classPrompt = HealthItem
	respawnTime = 10
	healthFactorAtBeginning = 1
	position = 20.32927 -13.59326 0.2532427
	rotation = 0 0 0.8124338 -0.5830535
	tags
	{
	}
}
entity
{
	type = SubmachineGunItem
	uin = 128
	classPrompt = WeaponItem
	respawnTime = 10
	healthFactorAtBeginning = 1
	position = 12.70407 -20.24042 0.5777563
	rotation = 0 0 0.9796209 0.2008553
	tags
	{
	}
}
entity
{
	type = ShotgunItem
	uin = 129
	classPrompt = WeaponItem
	respawnTime = 10
	healthFactorAtBeginning = 1
	position = 10.64816 -20.2383 0.4753142
	rotation = 0 0 0.9233318 0.3840033
	tags
	{
	}
}
